<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>NFC Tag Hunt Game</title>
  <style>
    body { font-family: sans-serif; text-align: center; margin-top: 30px; }
    h1 { color: #2c3e50; }
    .tag-list { display: flex; flex-wrap: wrap; justify-content: center; margin-top: 20px; gap: 10px; }
    .tag { width: 100px; padding: 10px; border-radius: 8px; background: #eee; color: #333; }
    .found { background: #2ecc71; color: white; }
    #message { font-size: 1.5em; margin-top: 30px; color: #e67e22; }
    #prize { font-size: 2em; color: gold; margin-top: 20px; display: none; }
  </style>
</head>
<body>
  <h1>NFC Tag Hunt</h1>
  <p>Scan all 7 hidden NFC tags to win!</p>

  <div class="tag-list" id="tagList">
    <!-- tags will be generated here -->
  </div>

  <div id="message"></div>
  <div id="prize">üéâ You found all the tags! Claim your prize! üéÅ</div>

  <script>
    const TAG_IDS = ["tag1", "tag2", "tag3", "tag4", "tag5", "tag6", "tag7"];
    const foundTags = JSON.parse(localStorage.getItem("foundTags") || "[]");
    const params = new URLSearchParams(window.location.search);
    const currentTag = params.get("tag");

    // If a valid tag is scanned, mark it found
    if (currentTag && TAG_IDS.includes(currentTag) && !foundTags.includes(currentTag)) {
      foundTags.push(currentTag);
      localStorage.setItem("foundTags", JSON.stringify(foundTags));
    }

    // Display tags and which are found
    const tagList = document.getElementById("tagList");
    TAG_IDS.forEach(tagId => {
      const div = document.createElement("div");
      div.className = "tag" + (foundTags.includes(tagId) ? " found" : "");
      div.textContent = foundTags.includes(tagId) ? `‚úÖ ${tagId}` : tagId;
      tagList.appendChild(div);
    });

    // Show progress message or prize
    const message = document.getElementById("message");
    const prize = document.getElementById("prize");

    if (foundTags.length === TAG_IDS.length) {
      message.textContent = "All tags found!";
      prize.style.display = "block";
    } else {
      message.textContent = `You have found ${foundTags.length} of ${TAG_IDS.length} tags.`;
    }
  </script>
</body>
</html>
